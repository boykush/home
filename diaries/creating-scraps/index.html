<!doctype html><html class="dark light"><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         ScrapsというWiki用のSSGを作っている話
        
    </title><meta content=ScrapsというWiki用のSSGを作っている話 property=og:title><meta content=ソフトウェアエンジニア。日々は続く property=og:description><meta content=ソフトウェアエンジニア。日々は続く name=description><link href="https://avatars.githubusercontent.com/u/23194090?v=4" rel=icon type=image/png><link href=https://boykush.github.io/fonts.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-X6KGCVNLWP" async></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-X6KGCVNLWP')</script><link title="Kush's Home" href=https://boykush.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://boykush.github.io/theme/light.css rel=stylesheet><link href=https://boykush.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><link href=https://boykush.github.io/main.css media=screen rel=stylesheet><link href=https://boykush.github.io/dark.css rel=stylesheet><link href=https://boykush.github.io/light.css rel=stylesheet><link href=https://boykush.github.io/fonts.css rel=stylesheet><link href=https://boykush.github.io/thumbnail.css rel=stylesheet><body><div class=content><header><div class=main><a href=https://boykush.github.io/>Kush's Home</a><div class=socials><a class=social href=https://github.com/boykush rel=me> <img alt=github src=https://boykush.github.io/social_icons/github.svg> </a><a class=social href=https://twitter.com/boykush315 rel=me> <img alt=x-twitter src=https://boykush.github.io/social_icons/x-twitter.svg> </a></div></div><nav><a href=https://boykush.github.io/diaries style=margin-left:.7em>/diaries</a><a href=https://boykush.github.io/projects style=margin-left:.7em>/projects</a><a href=https://boykush.github.io/about style=margin-left:.7em>/about</a> | <a href=javascript:void(0) id=dark-mode-toggle onclick=toggleTheme()> <img id=sun-icon src=https://boykush.github.io/feather/sun.svg style=filter:invert(1)> <img id=moon-icon src=https://boykush.github.io/feather/moon.svg> </a><script src=https://boykush.github.io/js/themetoggle.js></script></nav></header><main><article><div class=title><div class=page-header>ScrapsというWiki用のSSGを作っている話<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2023-07-10</time></div></div><h1>Table of Contents</h1><ul><li><a href=https://boykush.github.io/diaries/creating-scraps/#hazimeni>はじめに</a><li><a href=https://boykush.github.io/diaries/creating-scraps/#shi-zhuang>実装</a><li><a href=https://boykush.github.io/diaries/creating-scraps/#ci-cd>CI/CD</a><li><a href=https://boykush.github.io/diaries/creating-scraps/#ssgnodepuroisapoto>SSGのデプロイサポート</a><li><a href=https://boykush.github.io/diaries/creating-scraps/#dokiyumento>ドキュメント</a><li><a href=https://boykush.github.io/diaries/creating-scraps/#zhong-warini>終わりに</a></ul><section class=body><h1 id=hazimeni>はじめに</h1><p>Obsidianを使ってWikiをまとめていたがせっかくならページ公開したいな〜と考えていた。どうやらObsidianでページ公開するには有料プランである必要があるらしい。<p>有料プランにするほどのモチベはなかったが、Rust入門中だったのでせっかくならStatic Site Generatorを作っちゃえ。となった。<p>GitHub Repositoryは以下<ul><li><a href=https://github.com/boykush/scraps>GitHub</a></ul><h1 id=shi-zhuang>実装</h1><p>基本機能はSSGとしてMarkdownをHtmlへと変換する機能。Wiki用ということで加えてページ内リンクを簡単に記述できるようになっている。<p>実装で用いたメインのライブラリ群は以下<ul><li>anyhow(thiserror)<li>clap<li>pulldown-cmark<li>serde<li>tera</ul><p>特にTeraのドキュメントは読み込んだ。同じくTeraを用いているZolaと似たような使い心地になるよう意識した。<h1 id=ci-cd>CI/CD</h1><p>ScrapsのリリースはGitHub Releasesとcrates-ioを用いて管理している。よって cargo install scraps でインストールをできるようにした<ul><li><a href=https://crates.io/crates/scraps>crates.io</a></ul><h1 id=ssgnodepuroisapoto>SSGのデプロイサポート</h1><p>GitHub Pagesでのデプロイをサポートすべく、GitHub Actionsのカスタムアクションを用意した。<ul><li><a href=https://github.com/boykush/scraps-deploy-action>scraps-deploy-action</a></ul><p>またカスタムアクションから呼び出すDocker ImageはGitHubリポジトリのPackagesで管理した<ul><li><a href=https://github.com/boykush/scraps-image>scraps-image</a></ul><h1 id=dokiyumento>ドキュメント</h1><p>ScrapsのドキュメントはScraps自身を用いて作成している。同リポジトリに置いているので機能開発中のデバッグ用もかねている<ul><li><a href=https://boykush.github.io/scraps/Getting%20Started.html>Getting Started - Scraps Doc</a></ul><h1 id=zhong-warini>終わりに</h1><p>v0.6.1時点で一通りの機能が揃ったので、実際にScrapsを用いてWikiを作り始めている<ul><li><a href=https://boykush.github.io/wiki/>Kush's Wiki</a></ul><p>我ながら良い使い心地なのでWikiも充実させていきつつ、Scrapsの開発も続けていきたい</section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=https://boykush.github.io/tags/tech/>Tech</a><li><a href=https://boykush.github.io/tags/output/>Output</a></ul></nav></div></article></main></div>